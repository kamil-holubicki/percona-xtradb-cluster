***********************************************************************
* Run only on debug build,non-windows as few server variables are not
* available on all platforms.
***********************************************************************
call mtr.add_suppression("Failed to set up SSL because of the following SSL library error");
call mtr.add_suppression("\\[Warning\\] .*MY-\\d+.* Changing innodb_extend_and_initialize not supported on this platform.");
call mtr.add_suppression("Failed to initialize TLS for channel: mysql_main");
***************************************************************
* 0. Verify that variables present in performance_schema.global
* variables are actually global variables and can be set using
* SET GLOBAL
***************************************************************
CREATE TABLE global_vars (id INT PRIMARY KEY AUTO_INCREMENT, var_name VARCHAR(64), var_value VARCHAR(1024));
INSERT INTO global_vars (var_name, var_value) SELECT * FROM
performance_schema.global_variables WHERE variable_name NOT IN
('innodb_monitor_enable',
'innodb_monitor_disable',
'innodb_monitor_reset',
'innodb_monitor_reset_all',
'innodb_default_encryption_key_id',
'rbr_exec_mode',
'pxc_maint_mode',
'pxc_strict_mode',
'wsrep_trx_fragment_size');
************************************************************
* 1. Check that there are no persisted variable settings.
************************************************************
include/assert.inc ['Expect 0 persisted variables.']

************************************************************
* 2. Initialization. Test SET PERSIST. Verify persisted
*    variables.
************************************************************
CREATE TABLE all_vars (id INT PRIMARY KEY AUTO_INCREMENT, var_name VARCHAR(64), var_value VARCHAR(1024));
INSERT INTO all_vars (var_name, var_value)
SELECT * FROM performance_schema.global_variables
WHERE variable_name NOT IN
('innodb_default_encryption_key_id',
'rbr_exec_mode',
'pxc_maint_mode',
'pxc_strict_mode')
AND variable_name NOT LIKE 'ndb_%'
ORDER BY variable_name;

include/assert.inc [Expect 500+ variables in the table. Due to open Bugs, we are checking for fewer ]

# Test SET PERSIST
"variable: activate_all_roles_on_login"
"variable: admin_address"
"variable: admin_port"
"variable: admin_ssl_ca"
"variable: admin_ssl_capath"
"variable: admin_ssl_cert"
"variable: admin_ssl_cipher"
"variable: admin_ssl_crl"
"variable: admin_ssl_crlpath"
"variable: admin_ssl_key"
"variable: admin_tls_ciphersuites"
"variable: admin_tls_version"
"variable: auto_generate_certs"
"variable: auto_increment_increment"
"variable: auto_increment_offset"
"variable: autocommit"
"variable: automatic_sp_privileges"
"variable: avoid_temporal_upgrade"
"variable: back_log"
"variable: basedir"
"variable: big_tables"
"variable: bind_address"
"variable: binlog_cache_size"
"variable: binlog_checksum"
"variable: binlog_direct_non_transactional_updates"
"variable: binlog_encryption"
"variable: binlog_error_action"
"variable: binlog_expire_logs_seconds"
"variable: binlog_format"
"variable: binlog_group_commit_sync_delay"
"variable: binlog_group_commit_sync_no_delay_count"
"variable: binlog_gtid_simple_recovery"
"variable: binlog_max_flush_queue_time"
"variable: binlog_order_commits"
"variable: binlog_rotate_encryption_master_key_at_startup"
"variable: binlog_row_event_max_size"
"variable: binlog_row_image"
"variable: binlog_row_metadata"
"variable: binlog_row_value_options"
"variable: binlog_rows_query_log_events"
"variable: binlog_skip_flush_commands"
"variable: binlog_space_limit"
"variable: binlog_stmt_cache_size"
"variable: binlog_transaction_compression"
"variable: binlog_transaction_compression_level_zstd"
"variable: binlog_transaction_dependency_history_size"
"variable: binlog_transaction_dependency_tracking"
"variable: block_encryption_mode"
"variable: bulk_insert_buffer_size"
"variable: caching_sha2_password_auto_generate_rsa_keys"
"variable: caching_sha2_password_private_key_path"
"variable: caching_sha2_password_public_key_path"
"variable: character_set_client"
"variable: character_set_connection"
"variable: character_set_database"
"variable: character_set_filesystem"
"variable: character_set_results"
"variable: character_set_server"
"variable: character_set_system"
"variable: character_sets_dir"
"variable: check_proxy_users"
"variable: collation_connection"
"variable: collation_database"
"variable: collation_server"
"variable: completion_type"
"variable: concurrent_insert"
"variable: connect_timeout"
"variable: core_file"
"variable: create_admin_listener_thread"
"variable: cte_max_recursion_depth"
"variable: datadir"
"variable: debug"
"variable: default_authentication_plugin"
"variable: default_collation_for_utf8mb4"
"variable: default_password_lifetime"
"variable: default_storage_engine"
"variable: default_table_encryption"
"variable: default_tmp_storage_engine"
"variable: default_week_format"
"variable: delay_key_write"
"variable: delayed_insert_limit"
"variable: delayed_insert_timeout"
"variable: delayed_queue_size"
"variable: disabled_storage_engines"
"variable: disconnect_on_expired_password"
"variable: div_precision_increment"
"variable: encrypt_tmp_files"
"variable: end_markers_in_json"
"variable: enforce_gtid_consistency"
"variable: enforce_storage_engine"
"variable: eq_range_index_dive_limit"
"variable: event_scheduler"
"variable: expand_fast_index_creation"
"variable: expire_logs_days"
"variable: explicit_defaults_for_timestamp"
"variable: flush"
"variable: flush_time"
"variable: foreign_key_checks"
"variable: ft_boolean_syntax"
"variable: ft_max_word_len"
"variable: ft_min_word_len"
"variable: ft_query_expansion_limit"
"variable: ft_query_extra_word_chars"
"variable: ft_stopword_file"
"variable: general_log"
"variable: general_log_file"
"variable: generated_random_password_length"
"variable: group_concat_max_len"
"variable: group_replication_consistency"
"variable: gtid_executed"
"variable: gtid_executed_compression_period"
"variable: gtid_mode"
"variable: gtid_owned"
"variable: gtid_purged"
"variable: have_backup_locks"
"variable: have_backup_safe_binlog_info"
"variable: have_compress"
"variable: have_dynamic_loading"
"variable: have_geometry"
"variable: have_openssl"
"variable: have_profiling"
"variable: have_query_cache"
"variable: have_rtree_keys"
"variable: have_snapshot_cloning"
"variable: have_ssl"
"variable: have_statement_timeout"
"variable: have_symlink"
"variable: histogram_generation_max_mem_size"
"variable: host_cache_size"
"variable: hostname"
"variable: information_schema_stats_expiry"
"variable: init_connect"
"variable: init_file"
"variable: init_slave"
"variable: innodb_adaptive_flushing"
"variable: innodb_adaptive_flushing_lwm"
"variable: innodb_adaptive_hash_index"
"variable: innodb_adaptive_hash_index_parts"
"variable: innodb_adaptive_max_sleep_delay"
"variable: innodb_api_bk_commit_interval"
"variable: innodb_api_disable_rowlock"
"variable: innodb_api_enable_binlog"
"variable: innodb_api_enable_mdl"
"variable: innodb_api_trx_level"
"variable: innodb_autoextend_increment"
"variable: innodb_autoinc_lock_mode"
"variable: innodb_background_drop_list_empty"
"variable: innodb_background_scrub_data_check_interval"
"variable: innodb_background_scrub_data_compressed"
"variable: innodb_background_scrub_data_interval"
"variable: innodb_background_scrub_data_uncompressed"
"variable: innodb_buf_flush_list_now"
"variable: innodb_buffer_pool_chunk_size"
"variable: innodb_buffer_pool_debug"
"variable: innodb_buffer_pool_dump_at_shutdown"
"variable: innodb_buffer_pool_dump_now"
"variable: innodb_buffer_pool_dump_pct"
"variable: innodb_buffer_pool_evict"
"variable: innodb_buffer_pool_filename"
"variable: innodb_buffer_pool_in_core_file"
"variable: innodb_buffer_pool_instances"
"variable: innodb_buffer_pool_load_abort"
"variable: innodb_buffer_pool_load_at_startup"
"variable: innodb_buffer_pool_load_now"
"variable: innodb_buffer_pool_size"
"variable: innodb_change_buffer_max_size"
"variable: innodb_change_buffering"
"variable: innodb_change_buffering_debug"
"variable: innodb_checkpoint_disabled"
"variable: innodb_checksum_algorithm"
"variable: innodb_cleaner_lsn_age_factor"
"variable: innodb_cleaner_max_flush_time"
"variable: innodb_cleaner_max_lru_time"
"variable: innodb_cmp_per_index_enabled"
"variable: innodb_commit_concurrency"
"variable: innodb_compress_debug"
"variable: innodb_compressed_columns_threshold"
"variable: innodb_compressed_columns_zip_level"
"variable: innodb_compression_failure_threshold_pct"
"variable: innodb_compression_level"
"variable: innodb_compression_pad_pct_max"
"variable: innodb_concurrency_tickets"
"variable: innodb_corrupt_table_action"
"variable: innodb_data_file_path"
"variable: innodb_data_home_dir"
"variable: innodb_ddl_log_crash_reset_debug"
"variable: innodb_deadlock_detect"
"variable: innodb_dedicated_server"
"variable: innodb_default_row_format"
"variable: innodb_dict_stats_disabled_debug"
"variable: innodb_directories"
"variable: innodb_disable_background_merge"
"variable: innodb_disable_sort_file_cache"
"variable: innodb_disallow_writes"
"variable: innodb_doublewrite"
"variable: innodb_doublewrite_batch_size"
"variable: innodb_doublewrite_dir"
"variable: innodb_doublewrite_files"
"variable: innodb_doublewrite_pages"
"variable: innodb_empty_free_list_algorithm"
"variable: innodb_encrypt_online_alter_logs"
"variable: innodb_encryption_rotate_key_age"
"variable: innodb_encryption_rotation_iops"
"variable: innodb_encryption_threads"
"variable: innodb_extend_and_initialize"
"variable: innodb_fast_shutdown"
"variable: innodb_fil_make_page_dirty_debug"
"variable: innodb_file_per_table"
"variable: innodb_fill_factor"
"variable: innodb_flush_log_at_timeout"
"variable: innodb_flush_log_at_trx_commit"
"variable: innodb_flush_method"
"variable: innodb_flush_neighbors"
"variable: innodb_flush_sync"
"variable: innodb_flushing_avg_loops"
"variable: innodb_force_index_records_in_range"
"variable: innodb_force_load_corrupted"
"variable: innodb_force_recovery"
"variable: innodb_force_recovery_crash"
"variable: innodb_fsync_threshold"
"variable: innodb_ft_aux_table"
"variable: innodb_ft_cache_size"
"variable: innodb_ft_enable_diag_print"
"variable: innodb_ft_enable_stopword"
"variable: innodb_ft_ignore_stopwords"
"variable: innodb_ft_max_token_size"
"variable: innodb_ft_min_token_size"
"variable: innodb_ft_num_word_optimize"
"variable: innodb_ft_result_cache_limit"
"variable: innodb_ft_server_stopword_table"
"variable: innodb_ft_sort_pll_degree"
"variable: innodb_ft_total_cache_size"
"variable: innodb_ft_user_stopword_table"
"variable: innodb_idle_flush_pct"
"variable: innodb_immediate_scrub_data_uncompressed"
"variable: innodb_io_capacity"
"variable: innodb_io_capacity_max"
"variable: innodb_limit_optimistic_insert_debug"
"variable: innodb_lock_wait_timeout"
"variable: innodb_log_buffer_size"
"variable: innodb_log_checkpoint_fuzzy_now"
"variable: innodb_log_checkpoint_now"
"variable: innodb_log_checksums"
"variable: innodb_log_compressed_pages"
"variable: innodb_log_file_size"
"variable: innodb_log_files_in_group"
"variable: innodb_log_flush_now"
"variable: innodb_log_group_home_dir"
"variable: innodb_log_spin_cpu_abs_lwm"
"variable: innodb_log_spin_cpu_pct_hwm"
"variable: innodb_log_wait_for_flush_spin_hwm"
"variable: innodb_log_write_ahead_size"
"variable: innodb_log_writer_threads"
"variable: innodb_lru_scan_depth"
"variable: innodb_master_thread_disabled_debug"
"variable: innodb_max_bitmap_file_size"
"variable: innodb_max_changed_pages"
"variable: innodb_max_dirty_pages_pct"
"variable: innodb_max_dirty_pages_pct_lwm"
"variable: innodb_max_purge_lag"
"variable: innodb_max_purge_lag_delay"
"variable: innodb_max_undo_log_size"
"variable: innodb_merge_threshold_set_all_debug"
"variable: innodb_monitor_disable"
"variable: innodb_monitor_enable"
"variable: innodb_monitor_reset"
"variable: innodb_monitor_reset_all"
"variable: innodb_numa_interleave"
"variable: innodb_old_blocks_pct"
"variable: innodb_old_blocks_time"
"variable: innodb_online_alter_log_max_size"
"variable: innodb_open_files"
"variable: innodb_optimize_fulltext_only"
"variable: innodb_page_cleaner_disabled_debug"
"variable: innodb_page_cleaners"
"variable: innodb_page_hash_locks"
"variable: innodb_page_size"
"variable: innodb_parallel_dblwr_encrypt"
"variable: innodb_parallel_doublewrite_path"
"variable: innodb_parallel_read_threads"
"variable: innodb_print_all_deadlocks"
"variable: innodb_print_ddl_logs"
"variable: innodb_print_lock_wait_timeout_info"
"variable: innodb_priority_master"
"variable: innodb_priority_purge"
"variable: innodb_purge_batch_size"
"variable: innodb_purge_rseg_truncate_frequency"
"variable: innodb_purge_run_now"
"variable: innodb_purge_stop_now"
"variable: innodb_purge_threads"
"variable: innodb_random_read_ahead"
"variable: innodb_read_ahead_threshold"
"variable: innodb_read_io_threads"
"variable: innodb_read_only"
"variable: innodb_records_in_range"
"variable: innodb_redo_log_archive_dirs"
"variable: innodb_redo_log_encrypt"
"variable: innodb_replication_delay"
"variable: innodb_rollback_on_timeout"
"variable: innodb_rollback_segments"
"variable: innodb_saved_page_number_debug"
"variable: innodb_sched_priority_io"
"variable: innodb_sched_priority_master"
"variable: innodb_sched_priority_purge"
"variable: innodb_scrub_log"
"variable: innodb_scrub_log_speed"
"variable: innodb_show_locks_held"
"variable: innodb_sort_buffer_size"
"variable: innodb_spin_wait_delay"
"variable: innodb_spin_wait_pause_multiplier"
"variable: innodb_stats_auto_recalc"
"variable: innodb_stats_include_delete_marked"
"variable: innodb_stats_method"
"variable: innodb_stats_on_metadata"
"variable: innodb_stats_persistent"
"variable: innodb_stats_persistent_sample_pages"
"variable: innodb_stats_transient_sample_pages"
"variable: innodb_status_output"
"variable: innodb_status_output_locks"
"variable: innodb_strict_mode"
"variable: innodb_sync_array_size"
"variable: innodb_sync_debug"
"variable: innodb_sync_spin_loops"
"variable: innodb_sys_tablespace_encrypt"
"variable: innodb_table_locks"
"variable: innodb_temp_data_file_path"
"variable: innodb_temp_tablespace_encrypt"
"variable: innodb_temp_tablespaces_dir"
"variable: innodb_thread_concurrency"
"variable: innodb_thread_sleep_delay"
"variable: innodb_tmpdir"
"variable: innodb_track_changed_pages"
"variable: innodb_track_redo_log_now"
"variable: innodb_trx_purge_view_update_only_debug"
"variable: innodb_trx_rseg_n_slots_debug"
"variable: innodb_undo_directory"
"variable: innodb_undo_log_encrypt"
"variable: innodb_undo_log_truncate"
"variable: innodb_undo_tablespaces"
"variable: innodb_use_native_aio"
"variable: innodb_validate_tablespace_paths"
"variable: innodb_version"
"variable: innodb_write_io_threads"
"variable: interactive_timeout"
"variable: internal_tmp_mem_storage_engine"
"variable: join_buffer_size"
"variable: keep_files_on_create"
"variable: key_buffer_size"
"variable: key_cache_age_threshold"
"variable: key_cache_block_size"
"variable: key_cache_division_limit"
"variable: keyring_operations"
"variable: kill_idle_transaction"
"variable: large_files_support"
"variable: large_page_size"
"variable: large_pages"
"variable: lc_messages"
"variable: lc_messages_dir"
"variable: lc_time_names"
"variable: license"
"variable: local_infile"
"variable: lock_wait_timeout"
"variable: locked_in_memory"
"variable: log_bin"
"variable: log_bin_basename"
"variable: log_bin_index"
"variable: log_bin_trust_function_creators"
"variable: log_bin_use_v1_row_events"
"variable: log_error"
"variable: log_error_services"
"variable: log_error_suppression_list"
"variable: log_error_verbosity"
"variable: log_output"
"variable: log_queries_not_using_indexes"
"variable: log_raw"
"variable: log_slave_updates"
"variable: log_slow_admin_statements"
"variable: log_slow_extra"
"variable: log_slow_filter"
"variable: log_slow_rate_limit"
"variable: log_slow_rate_type"
"variable: log_slow_slave_statements"
"variable: log_slow_sp_statements"
"variable: log_slow_verbosity"
"variable: log_statements_unsafe_for_binlog"
"variable: log_throttle_queries_not_using_indexes"
"variable: log_timestamps"
"variable: long_query_time"
"variable: low_priority_updates"
"variable: lower_case_file_system"
"variable: lower_case_table_names"
"variable: mandatory_roles"
"variable: master_info_repository"
"variable: master_verify_checksum"
"variable: max_allowed_packet"
"variable: max_binlog_cache_size"
"variable: max_binlog_size"
"variable: max_binlog_stmt_cache_size"
"variable: max_connect_errors"
"variable: max_connections"
"variable: max_delayed_threads"
"variable: max_digest_length"
"variable: max_error_count"
"variable: max_execution_time"
"variable: max_heap_table_size"
"variable: max_insert_delayed_threads"
"variable: max_join_size"
"variable: max_length_for_sort_data"
"variable: max_points_in_geometry"
"variable: max_prepared_stmt_count"
"variable: max_relay_log_size"
"variable: max_seeks_for_key"
"variable: max_sort_length"
"variable: max_sp_recursion_depth"
"variable: max_user_connections"
"variable: max_write_lock_count"
"variable: min_examined_row_limit"
"variable: myisam_data_pointer_size"
"variable: myisam_max_sort_file_size"
"variable: myisam_mmap_size"
"variable: myisam_recover_options"
"variable: myisam_repair_threads"
"variable: myisam_sort_buffer_size"
"variable: myisam_stats_method"
"variable: myisam_use_mmap"
"variable: mysql_native_password_proxy_users"
"variable: mysqlx_bind_address"
"variable: mysqlx_compression_algorithms"
"variable: mysqlx_connect_timeout"
"variable: mysqlx_deflate_default_compression_level"
"variable: mysqlx_deflate_max_client_compression_level"
"variable: mysqlx_document_id_unique_prefix"
"variable: mysqlx_enable_hello_notice"
"variable: mysqlx_idle_worker_thread_timeout"
"variable: mysqlx_interactive_timeout"
"variable: mysqlx_lz4_default_compression_level"
"variable: mysqlx_lz4_max_client_compression_level"
"variable: mysqlx_max_allowed_packet"
"variable: mysqlx_max_connections"
"variable: mysqlx_min_worker_threads"
"variable: mysqlx_port"
"variable: mysqlx_port_open_timeout"
"variable: mysqlx_read_timeout"
"variable: mysqlx_socket"
"variable: mysqlx_ssl_ca"
"variable: mysqlx_ssl_capath"
"variable: mysqlx_ssl_cert"
"variable: mysqlx_ssl_cipher"
"variable: mysqlx_ssl_crl"
"variable: mysqlx_ssl_crlpath"
"variable: mysqlx_ssl_key"
"variable: mysqlx_wait_timeout"
"variable: mysqlx_write_timeout"
"variable: mysqlx_zstd_default_compression_level"
"variable: mysqlx_zstd_max_client_compression_level"
"variable: net_buffer_length"
"variable: net_read_timeout"
"variable: net_retry_count"
"variable: net_write_timeout"
"variable: new"
"variable: ngram_token_size"
"variable: offline_mode"
"variable: old"
"variable: old_alter_table"
"variable: open_files_limit"
"variable: optimizer_prune_level"
"variable: optimizer_search_depth"
"variable: optimizer_switch"
"variable: optimizer_trace"
"variable: optimizer_trace_features"
"variable: optimizer_trace_limit"
"variable: optimizer_trace_max_mem_size"
"variable: optimizer_trace_offset"
"variable: parser_max_mem_size"
"variable: partial_revokes"
"variable: password_history"
"variable: password_require_current"
"variable: password_reuse_interval"
"variable: performance_schema"
"variable: performance_schema_accounts_size"
"variable: performance_schema_digests_size"
"variable: performance_schema_error_size"
"variable: performance_schema_events_stages_history_long_size"
"variable: performance_schema_events_stages_history_size"
"variable: performance_schema_events_statements_history_long_size"
"variable: performance_schema_events_statements_history_size"
"variable: performance_schema_events_transactions_history_long_size"
"variable: performance_schema_events_transactions_history_size"
"variable: performance_schema_events_waits_history_long_size"
"variable: performance_schema_events_waits_history_size"
"variable: performance_schema_hosts_size"
"variable: performance_schema_max_cond_classes"
"variable: performance_schema_max_cond_instances"
"variable: performance_schema_max_digest_length"
"variable: performance_schema_max_digest_sample_age"
"variable: performance_schema_max_file_classes"
"variable: performance_schema_max_file_handles"
"variable: performance_schema_max_file_instances"
"variable: performance_schema_max_index_stat"
"variable: performance_schema_max_memory_classes"
"variable: performance_schema_max_metadata_locks"
"variable: performance_schema_max_mutex_classes"
"variable: performance_schema_max_mutex_instances"
"variable: performance_schema_max_prepared_statements_instances"
"variable: performance_schema_max_program_instances"
"variable: performance_schema_max_rwlock_classes"
"variable: performance_schema_max_rwlock_instances"
"variable: performance_schema_max_socket_classes"
"variable: performance_schema_max_socket_instances"
"variable: performance_schema_max_sql_text_length"
"variable: performance_schema_max_stage_classes"
"variable: performance_schema_max_statement_classes"
"variable: performance_schema_max_statement_stack"
"variable: performance_schema_max_table_handles"
"variable: performance_schema_max_table_instances"
"variable: performance_schema_max_table_lock_stat"
"variable: performance_schema_max_thread_classes"
"variable: performance_schema_max_thread_instances"
"variable: performance_schema_session_connect_attrs_size"
"variable: performance_schema_setup_actors_size"
"variable: performance_schema_setup_objects_size"
"variable: performance_schema_show_processlist"
"variable: performance_schema_users_size"
"variable: persist_only_admin_x509_subject"
"variable: persisted_globals_load"
"variable: pid_file"
"variable: plugin_dir"
"variable: port"
"variable: preload_buffer_size"
"variable: print_identified_with_as_hex"
"variable: profiling"
"variable: profiling_history_size"
"variable: protocol_compression_algorithms"
"variable: protocol_version"
"variable: proxy_protocol_networks"
"variable: pxc_encrypt_cluster_traffic"
"variable: pxc_maint_transition_period"
"variable: query_alloc_block_size"
"variable: query_exec_time"
"variable: query_prealloc_size"
"variable: range_alloc_block_size"
"variable: range_optimizer_max_mem_size"
"variable: read_buffer_size"
"variable: read_only"
"variable: read_rnd_buffer_size"
"variable: regexp_stack_limit"
"variable: regexp_time_limit"
"variable: relay_log"
"variable: relay_log_basename"
"variable: relay_log_index"
"variable: relay_log_info_file"
"variable: relay_log_info_repository"
"variable: relay_log_purge"
"variable: relay_log_recovery"
"variable: relay_log_space_limit"
"variable: report_host"
"variable: report_password"
"variable: report_port"
"variable: report_user"
"variable: require_secure_transport"
"variable: rpl_read_size"
"variable: rpl_stop_slave_timeout"
"variable: schema_definition_cache"
"variable: secondary_engine_cost_threshold"
"variable: secure_file_priv"
"variable: select_into_buffer_size"
"variable: select_into_disk_sync"
"variable: select_into_disk_sync_delay"
"variable: server_id"
"variable: server_id_bits"
"variable: server_uuid"
"variable: session_track_gtids"
"variable: session_track_schema"
"variable: session_track_state_change"
"variable: session_track_system_variables"
"variable: session_track_transaction_info"
"variable: sha256_password_auto_generate_rsa_keys"
"variable: sha256_password_private_key_path"
"variable: sha256_password_proxy_users"
"variable: sha256_password_public_key_path"
"variable: show_create_table_verbosity"
"variable: show_old_temporals"
"variable: skip_external_locking"
"variable: skip_name_resolve"
"variable: skip_networking"
"variable: skip_show_database"
"variable: slave_allow_batching"
"variable: slave_checkpoint_group"
"variable: slave_checkpoint_period"
"variable: slave_compressed_protocol"
"variable: slave_exec_mode"
"variable: slave_load_tmpdir"
"variable: slave_max_allowed_packet"
"variable: slave_net_timeout"
"variable: slave_parallel_type"
"variable: slave_parallel_workers"
"variable: slave_pending_jobs_size_max"
"variable: slave_preserve_commit_order"
"variable: slave_rows_search_algorithms"
"variable: slave_skip_errors"
"variable: slave_sql_verify_checksum"
"variable: slave_transaction_retries"
"variable: slave_type_conversions"
"variable: slow_launch_time"
"variable: slow_query_log"
"variable: slow_query_log_always_write_time"
"variable: slow_query_log_file"
"variable: slow_query_log_use_global_control"
"variable: socket"
"variable: sort_buffer_size"
"variable: sql_auto_is_null"
"variable: sql_big_selects"
"variable: sql_buffer_result"
"variable: sql_log_off"
"variable: sql_mode"
"variable: sql_notes"
"variable: sql_quote_show_create"
"variable: sql_require_primary_key"
"variable: sql_safe_updates"
"variable: sql_select_limit"
"variable: sql_slave_skip_counter"
"variable: sql_warnings"
"variable: ssl_ca"
"variable: ssl_capath"
"variable: ssl_cert"
"variable: ssl_cipher"
"variable: ssl_crl"
"variable: ssl_crlpath"
"variable: ssl_fips_mode"
"variable: ssl_key"
"variable: stored_program_cache"
"variable: stored_program_definition_cache"
"variable: super_read_only"
"variable: sync_binlog"
"variable: sync_master_info"
"variable: sync_relay_log"
"variable: sync_relay_log_info"
"variable: system_time_zone"
"variable: table_definition_cache"
"variable: table_encryption_privilege_check"
"variable: table_open_cache"
"variable: table_open_cache_instances"
"variable: tablespace_definition_cache"
"variable: temptable_max_ram"
"variable: temptable_use_mmap"
"variable: tf_sequence_table_max_upper_bound"
"variable: thread_cache_size"
"variable: thread_handling"
"variable: thread_pool_high_prio_mode"
"variable: thread_pool_high_prio_tickets"
"variable: thread_pool_idle_timeout"
"variable: thread_pool_max_threads"
"variable: thread_pool_oversubscribe"
"variable: thread_pool_size"
"variable: thread_pool_stall_limit"
"variable: thread_stack"
"variable: thread_statistics"
"variable: time_zone"
"variable: tls_ciphersuites"
"variable: tls_version"
"variable: tmp_table_size"
"variable: tmpdir"
"variable: transaction_alloc_block_size"
"variable: transaction_isolation"
"variable: transaction_prealloc_size"
"variable: transaction_read_only"
"variable: transaction_write_set_extraction"
"variable: unique_checks"
"variable: updatable_views_with_limit"
"variable: userstat"
"variable: version"
"variable: version_comment"
"variable: version_compile_machine"
"variable: version_compile_os"
"variable: version_compile_zlib"
"variable: version_suffix"
"variable: wait_timeout"
"variable: windowing_use_high_precision"
"variable: wsrep_auto_increment_control"
"variable: wsrep_causal_reads"
"variable: wsrep_certification_rules"
"variable: wsrep_certify_nonPK"
"variable: wsrep_cluster_address"
"variable: wsrep_cluster_name"
"variable: wsrep_data_home_dir"
"variable: wsrep_dbug_option"
"variable: wsrep_debug"
"variable: wsrep_desync"
"variable: wsrep_dirty_reads"
"variable: wsrep_ignore_apply_errors"
"variable: wsrep_load_data_splitting"
"variable: wsrep_log_conflicts"
"variable: wsrep_max_ws_rows"
"variable: wsrep_max_ws_size"
"variable: wsrep_min_log_verbosity"
"variable: wsrep_node_address"
"variable: wsrep_node_incoming_address"
"variable: wsrep_node_name"
"variable: wsrep_notify_cmd"
"variable: wsrep_OSU_method"
"variable: wsrep_provider"
"variable: wsrep_provider_options"
"variable: wsrep_recover"
"variable: wsrep_reject_queries"
"variable: wsrep_replicate_myisam"
"variable: wsrep_restart_slave"
"variable: wsrep_retry_autocommit"
"variable: wsrep_RSU_commit_timeout"
"variable: wsrep_slave_FK_checks"
"variable: wsrep_slave_threads"
"variable: wsrep_slave_UK_checks"
"variable: wsrep_SR_store"
"variable: wsrep_sst_allowed_methods"
"variable: wsrep_sst_donor"
"variable: wsrep_sst_donor_rejects_queries"
"variable: wsrep_sst_method"
"variable: wsrep_sst_receive_address"
"variable: wsrep_start_position"
"variable: wsrep_sync_wait"
"variable: wsrep_trx_fragment_size"
"variable: wsrep_trx_fragment_unit"

include/assert.inc [Expect 501 persisted variables in the table.]

************************************************************
* 3. Restart server, it must preserve the persisted variable
*    settings. Verify persisted configuration.
************************************************************
# restart

include/assert.inc [Expect 501 persisted variables in persisted_variables table.]
include/assert.inc [Expect 501 persisted variables shown as PERSISTED in variables_info table.]
include/assert.inc [Expect 501 persisted variables with matching peristed and global values.]

************************************************************
* 4. Test RESET PERSIST IF EXISTS. Verify persisted variable
*    settings are removed.
************************************************************

include/assert.inc ['Expect 0 persisted variables.']

************************************************************
* 5. Clean up.
************************************************************
DROP TABLE all_vars;
DROP TABLE global_vars;
# restart
